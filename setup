#!/bin/sh

newdir=$HOME/.dotfiles
olddir=$HOME/.dotfiles_old

echo "Creating $olddir for backup of any existing dotfiles in home directory"
mkdir -p $olddir
echo "...done"

echo "Changing to the $newdir directory\n"
cd $newdir

for file in `ls`; do
  if [[ "$file" != "README.md" && "$file" != "setup" ]]; then
    echo "Moving .$file dotfiles from home directory to $olddir if existing";
    mv $HOME/.$file $olddir;
    echo "Creating symlink to $file in home directory.";
    ln -s $newdir/$file $HOME/.$file;
  fi
done

echo ""
echo "Creating directories for gitignore"
mkdir -p $HOME/.config/git
ln -s $newdir/gitignore $HOME/.config/git/ignore
ln -s $newdir/gitconfig $HOME/.config/git/config

echo ""
echo "Creating directories for vim"
mkdir -p $HOME/.vim/{autoload,backup,bundle,colors,tmp,undo}

echo ""
echo "Done!!"
